<!DOCTYPE html>
<html>
<head>
  <title>esdoc</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/.bin/esdoc";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>esdoc</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">#!/usr/bin/env node</span>
<span class="hljs-meta">'use strict'</span>;

<span class="hljs-built_in">Object</span>.defineProperty(exports, <span class="hljs-string">"__esModule"</span>, {
  <span class="hljs-attr">value</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-keyword">var</span> _fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">var</span> _fs2 = _interopRequireDefault(_fs);

<span class="hljs-keyword">var</span> _path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-keyword">var</span> _path2 = _interopRequireDefault(_path);

<span class="hljs-keyword">var</span> _minimist = <span class="hljs-built_in">require</span>(<span class="hljs-string">'minimist'</span>);

<span class="hljs-keyword">var</span> _minimist2 = _interopRequireDefault(_minimist);

<span class="hljs-keyword">var</span> _ESDoc = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ESDoc.js'</span>);

<span class="hljs-keyword">var</span> _ESDoc2 = _interopRequireDefault(_ESDoc);

<span class="hljs-keyword">var</span> _NPMUtil = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./Util/NPMUtil.js'</span>);

<span class="hljs-keyword">var</span> _NPMUtil2 = _interopRequireDefault(_NPMUtil);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_interopRequireDefault</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-keyword">return</span> obj &amp;&amp; obj.__esModule ? obj : { <span class="hljs-attr">default</span>: obj }; }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>Command Line Interface for ESDoc.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ESDocCLI</span> </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<div class="dox">
<div class="summary">
<p>Create instance.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">argv</span>
<span class="dox_type">Object</span>
<span><ul>
<li>this is node.js argv(<code>process.argv</code>)</li>
</ul>
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-keyword">constructor</span>(argv) {
    <span class="hljs-comment">/** <span class="hljs-doctag">@type <span class="hljs-type">{ESDocCLIArgv}</span> </span>*/</span>
    <span class="hljs-keyword">this</span>._argv = (<span class="hljs-number">0</span>, _minimist2.default)(argv.slice(<span class="hljs-number">2</span>));

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._argv.h || <span class="hljs-keyword">this</span>._argv.help) {
      <span class="hljs-keyword">this</span>._showHelp();
      process.exit(<span class="hljs-number">0</span>);
    }

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._argv.v || <span class="hljs-keyword">this</span>._argv.version) {
      <span class="hljs-keyword">this</span>._showVersion();
      process.exit(<span class="hljs-number">0</span>);
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>execute to generate document.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  exec() {
    <span class="hljs-keyword">let</span> config;

    <span class="hljs-keyword">const</span> configPath = <span class="hljs-keyword">this</span>._findConfigFilePath();
    <span class="hljs-keyword">if</span> (configPath) {
      config = <span class="hljs-keyword">this</span>._createConfigFromJSONFile(configPath);
    } <span class="hljs-keyword">else</span> {
      config = <span class="hljs-keyword">this</span>._createConfigFromPackageJSON();
    }

    <span class="hljs-keyword">if</span> (config) {
      _ESDoc2.default.generate(config);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">this</span>._showHelp();
      process.exit(<span class="hljs-number">1</span>);
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>show help of ESDoc</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  _showHelp() {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Usage: esdoc [-c esdoc.json]'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Options:'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'  -c'</span>, <span class="hljs-string">'specify config file'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'  -h'</span>, <span class="hljs-string">'output usage information'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'  -v'</span>, <span class="hljs-string">'output the version number'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">''</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'ESDoc finds configuration by the order:'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'  1. `-c your-esdoc.json`'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'  2. `.esdoc.json` in current directory'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'  3. `.esdoc.js` in current directory'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'  4. `esdoc` property in package.json'</span>);
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<div class="dox">
<div class="summary">
<p>show version of ESDoc</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  _showVersion() {
    <span class="hljs-keyword">const</span> packageObj = _NPMUtil2.default.findPackage();
    <span class="hljs-keyword">if</span> (packageObj) {
      <span class="hljs-built_in">console</span>.log(packageObj.version);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'0.0.0'</span>);
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<div class="dox">
<div class="summary">
<p>find ESDoc config file.</p>
</div>
<div class="body">
</div>
<div class="details">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  _findConfigFilePath() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._argv.c) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._argv.c;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> filePath = _path2.default.resolve(<span class="hljs-string">'./.esdoc.json'</span>);
      _fs2.default.readFileSync(filePath);
      <span class="hljs-keyword">return</span> filePath;
    } <span class="hljs-keyword">catch</span> (e) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>ignore</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> filePath = _path2.default.resolve(<span class="hljs-string">'./.esdoc.js'</span>);
      _fs2.default.readFileSync(filePath);
      <span class="hljs-keyword">return</span> filePath;
    } <span class="hljs-keyword">catch</span> (e) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>ignore</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<div class="dox">
<div class="summary">
<p>create config object from config file.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">configFilePath</span>
<span class="dox_type">string</span>
<span><ul>
<li>config file path.</li>
</ul>
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">ESDocConfig</span>
<span>config object.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  _createConfigFromJSONFile(configFilePath) {
    configFilePath = _path2.default.resolve(configFilePath);
    <span class="hljs-keyword">const</span> ext = _path2.default.extname(configFilePath);
    <span class="hljs-keyword">if</span> (ext === <span class="hljs-string">'.js'</span>) {
      <span class="hljs-comment">/* eslint-disable global-require */</span>
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">require</span>(configFilePath);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">const</span> configJSON = _fs2.default.readFileSync(configFilePath, { <span class="hljs-attr">encode</span>: <span class="hljs-string">'utf8'</span> });
      <span class="hljs-keyword">const</span> config = <span class="hljs-built_in">JSON</span>.parse(configJSON);
      <span class="hljs-keyword">return</span> config;
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>create config object from package.json.</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">ESDocConfig</span>
<span>config object.
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  _createConfigFromPackageJSON() {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> filePath = _path2.default.resolve(<span class="hljs-string">'./package.json'</span>);
      <span class="hljs-keyword">const</span> packageJSON = _fs2.default.readFileSync(filePath, <span class="hljs-string">'utf8'</span>).toString();
      <span class="hljs-keyword">const</span> packageObj = <span class="hljs-built_in">JSON</span>.parse(packageJSON);
      <span class="hljs-keyword">return</span> packageObj.esdoc;
    } <span class="hljs-keyword">catch</span> (e) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>ignore</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }
}

exports.default = ESDocCLI; <span class="hljs-comment">// if this file is directory executed, work as CLI.</span>

<span class="hljs-keyword">const</span> executedFilePath = _fs2.default.realpathSync(process.argv[<span class="hljs-number">1</span>]);
<span class="hljs-keyword">if</span> (executedFilePath === __filename) {
  <span class="hljs-keyword">const</span> cli = <span class="hljs-keyword">new</span> ESDocCLI(process.argv);
  cli.exec();
}
</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
